

------------------

#### 大批量数据传输方案

要提供外部配置方法，不然每次更新都要改配置，很麻烦
考虑预留一个函数，让外部行为包定义它，调用scriptevent传值，每次世界加载时自动调用。
每个信息的最大长度为2048，所以有些信息可能要分多次发送，于是定义每条信息如下：
    信息组ID:总条数:当前条:内容（字符串）
    如："1:5:0:string_message"
    脚本会接收指定事件，在接收到了某组信息的全部信息时，将它们组装起来供其它模块使用。

------------------

#### 交互设计

  右击：坐
  左击：打开菜单
  潜行右击：打开背包
  潜行手持背包右击：切换背包

------------------

#### 关于背包

  因为女仆的物品栏还要用作种植、装护甲，物品不能总是放实体背包，实体背包只是供玩家交互的。
  利用只有潜行才能与背包交互的特性，进入潜行时，将女仆包内的物品剪切进背包，护甲、饰品及手上的物品复制进背包
  退出潜行时，背包物品放回女仆背包，装备则更新信息

------------------

#### 表情显示

展示不同的表情不难，用一个int属性即可。
但是若要设置动态表情的播放速度就需要特别设计一下了。用脚本自然是很方便的，但是会占用宝贵的属性条目，需要尝试使用 variable 等资源包手段控制。
考虑对特殊处理，然后取模得到动画速率。
属性值的取值范围是 -2147483648, 214 748 3647，正好可以让正数作为表情索引，负数作为速率！
至于贴图动画的偏移量，用基于贴图大小的操作：
    "offset": [
        0.0,
        "math.mod(math.floor(query.life_time * 0.5),4) / 4"
    ],
    "scale": [
        1.0,
        "1 / 4"
    ]
序列帧的数量又需要传递了... 很想再加个取模传值的操作。
就用取模。所谓“速率”实际上是指多少游戏刻一帧，这个值不太可能超过999，超过了就和静态的差不多了，如法炮制，无需多次传值，只要将三个数合并到一个数里即可。
2147483647 是十位数，大端满不了9需要注意，按速率，帧数，序号的顺序分配：
2 147 483 647
三个数各1k，非常够用了。
比如3号表情有5个序列帧，速率为10，则表示为 10,005,003
emote_index  emote_frame  emote_speed
